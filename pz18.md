## Практическое занятие №18. Встроенные в Windows средства шифрования

### Ход работы

1. Включение политики "стойкого" пароля в гостевой ОС
	- Через "Локальная политика безопасности": "Панель управления" \ "Система и безопасность" \ "Администрирование" \ "Локальная политика безопасности" -> Политика учётных записей -> Политика паролей -> включить "Пароль должен отвечать требованиям сложности"
	- Прочитать вкладку "Объяснение" (в контекстном меню свойства - объяснение) и **уяснить**, что значит стойкий пароль
	- После включения стойкого пароля попробовать изменить пароль для своей учётной записи. Убедиться, что нестойкий пароль задавать нельзя. Установить стойкий пароль (запишите в \\RACKSTATION\home\passwords.txt с предыдущего занятия)
	- Выключить политику вторым вариантом: через "Редактор локальной групповой политики":

	    1) набрать в поиске "Изменение групповой политики"

        2) выполнить команду "gpedit.msc"
        
        3) Конфигурация компьютера -> Конфигурация windows -> Параметры безопасности -> Политика учётных записей -> Политика паролей -> включить "Пароль должен отвечать требованиям сложности"
		
		P.S.: может понадобиться команда "gpupdate /force"


2. Шифрование диска гостевой ОС
	- Выключить гостевую ОС.
	- Добавить новый диск в VM Win 10 размером 100 Мб (**важно** выбрать хранить диск одним файлом) и включить ВМ.
	- Убедиться, что диск подключён. Зайти в проводник, контекстное меню на "этот компьютер" -> управление (со значком администратора), вкладка "запоминающие устройства" -> "управление дисками", нажать отмена в всплывающем окне. Есть диск 1, который не инициализирован, и он размером с добавленный ранее диск.
	- Нажать инициализация диска - контекстное меню на не инициализированном диске, вместо GPT выбрать MBR. Правой кнопкой на уже инициализированном диске - создать простой том, в менеджере везде "ок".
	- Включение BitLocker:
		- [для некоторых версий ОС необходимо добавить соответствующий компонент Windows]
		- Через "Панель управления" \ "Система и безопасность" \ "Шифрование диска BitLocker" или через поиск "Bitlocker" выбрать "Включить BitLocker"
		- Прочитать сообщение "это устройство не может использовать доверенный платформенный модуль TPM" и **уяснить**, что такое TPM
		- включить политику про TPM: в "Редактор локальной групповой политики" выбрать
			Конфигурация компьютера -> Административные шаблоны -> Компоненты Windows -> Шифрование диска BitLocker -> Диски операционной системы, включить "Этот параметр политики позволяет настроить требование дополнительной проверки подлинности при запуске" (убедиться, что включен чек-бокс разрешения BitLocker без TPM). **Внимание** - таких одинаковых параметров два, но один для Windows Server. Вам нужен не для Server.
		- "Включить BitLocker" (см. выше).
		- зашифровать диск 100 Мб сохранив ключ восстановления на "Рабочем столе"

		**Показать преподавателю**
    - скопировать зашифрованный из хоста диск в \\\\rackstation\\ВашПреподаватель. Диск лежит в каталоге вашей виртуальной машины, его название нужно посмотреть в свойствах виртуальной машины там, где создавали диск. Из гостевой ОС скопировать ключ восстановления.
	- подключить диск соседа из rackstation к своей гостевой ОС и проверить недоступность диска.
	- подключить диск с помощью ключа восстановления или пароля доступа.
	
4. Шифрованная файловая система (EFS)
	- Создать 2 пользователя (не администратора)
	- Создать под одним из них в каталоге "c:\Temp" папку "Parent" с файлом и ещё каталогом "Child" с файлом (должны получиться C:\\Temp\\Parent\\file.txt и C:\\Temp\\Parent\\Child\\hello.txt)
	- Зашифровать каталог "Parent" с её содержимым: Своиства каталога -> выбрать "Другие..." -> "Шифровать содержимое для защиты данных" -> ОК -> Применить -> И сразу выбрать архивацию ключа...
	- Ещё раз зайти в "Другие...", выбрать "Подробно", **уяснить**. **Показать преподавателю** свойства зашифрованного каталога.
	- Проверить доступность под другим пользователем и доступность после добавления сертификата.

5. AppLocker
	- gpedit.mcs - Конфигурация компьютера - Конфигурация Windows - Параметры безопасности - Политики управления приложениями - AppLocker
	- **уяснить**, какие возможности предоставляет AppLocker