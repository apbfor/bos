## Домашнее задание по БОС

## IV семестр 2019 года

### Задача №1

Написать командный файл task1.sh, формирующий правильно названные командные файлы для сдачи остальных заданий. После выполнения командного файла task1.sh с **параметрами**: «каталог-результата», «каталог-задач» «fullname», в каталоге «каталог-результата» должны быть созданы **при помощи цикла** 4 файла вида

$`taskN-T.sh`$, где N - это номер задачи (от 2 до 5), а T - это номер индивидуального задания по варианту.

Сформированный файл должен начинаться с shebang с указанием интерпретатора. На второй строке должен быть ваш fullname. На третьей строке должен быть комментарий с заданием. В «каталоге-задач» необходимо разместить файлы 2.txt, 3.txt, 4.txt и 5.txt (они доступны в каталоге [ddz](/ddz)), содержащие тексты соответствующих заданий. В этом файле на каждой строке размещено задание, которое начинается с номера, точки, пробела и текста задания.

**Номер индивидуального задания T** вычисляется по формуле:

**(N-по-журналу + N-задачи \* N-группы) % кол-во-заданий-в-задаче + 1**, где:

- *N-по-журналу* – номер по журналу;

- *N-задачи* – номер задачи: от 2 до 5;

- *N-группы* – номер группы: 1, 2 или 3 (для 7323, 7324 и 7325
 соответственно);

- *кол-во-заданий-в-задаче* – количество заданий в конкретной задаче.

Разработанный скрипт должен итерировать по файлам 2.txt-5.txt в «каталоге-задач», определять число заданий в каждой задаче, выделять нужные задачи и копировать в выходные файлы.

Пример начала task2-8.sh
```bash
#!/bin/bash
# 2017-5-07-iva
# 8. В текущем каталоге удалить все файлы, соответствующие маске \*.tmp и принадлежащие заданному аргументом (какому-либо) пользователю.
```

**Внимание:** задача №1 должна быть сдана преподавателю на практическом занятии №5, а остальные задачи сдаются по мере готовности на ПЗ до зачёта. Дата сдачи – 20.05. «Льготная» дата сдачи – до 06.05. После сдачи заданий готовится отчёт.

**Требования к оформлению результатов**

Код разработанных задач должен быть загружен в репозиторий timp в каталог bos-ddz. В результате получится следующая структура каталогов:

```
timp/bos-ddz/task1.sh
            /taskN-T.sh
            ...(где N и T вычислены выше)
    /bos-tasks/2.txt
              /3.txt
              /4.txt
              /5.txt
```
Файлы taskN-T.sh создаются разработанным скриптом, остальное создается вручную любым известным вам способом

Результаты представляются в электронном виде в файле формата .docx. **Название файла должно иметь формат – fullname-Фамилия-И.О.docx**. 

[Шаблон отчёта](http://gitlabnto/anetto/wiki/wikis/%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2). Обратите внимание, что внутри работают горячие клавиши ctrl+номер. Необходимо сохранить этот файл, двойным кликом по .dotx создать новый файл из этого шаблона, сохранить новый файл, проверить работоспособность горячих клавиш. Закрыть файл, открыть сохранённый файл и **убедиться, что горячие клавиши продолжают работать**.

[Оформление письменных работ-2018.pdf](http://gitlabnto/anetto/timp/uploads/bd9aa14286a0ef80dd48a554b777ffe3/Оформление_письменных_работ-2018_3.pdf)

### Задача №2

1. Создать файл, содержащий строчку с информацией о текущей дате, времени, пользователе.
2. Найти в системе файл stdlib.h, создать файл, содержащий все строки файла stdlib.h, в которых встречается слово int.
3. Создать файл, содержащий имена всех пользователей входящих в группу root (только имена).
4. Создать файл содержащий первый столбец результата работы команды ls -la /etc.
5. Найти в файловой системе все файлы, размером больше 1Кб и меньше 1 Мб. В файл записать имена таких файлов, расположенных в каталоге /etc.
6. Записать в файл строчку, включающую идентификатор текущего процесса, полный путь текущего каталога, имя текущего пользователя.
7. В текущем каталоге создать подкаталог с именем yyyy.mm.dd. В созданном каталоге создать файл с именем hh.mm.ss.zzz, содержащий число запущенных процессов (dd – день месяца, mm – номер месяца в году, yyyy – год, hh – часы, mm – минуты, ss – секунды, zzz - милисекунды на момент запуска задания).
8. В текущем каталоге удалить все файлы, соответствующие маске \*.tmp и принадлежащие заданному аргументом (какому-либо) пользователю.
9. Создать файл, содержащий имя текущего пользователя и число запущенных им процессов.
10. В каталоге /etc найти все файлы, не принадлежащие пользователю root.
11. Вывести в файл список всех пользователей из файла /etc/passwd за исключением root и текущего пользователя.
12. Вывести на экран N последних строк некоторого текстового файла.
13. Получить информацию о числе файлов во всех подкаталогах заданного каталога.
14. Найти в файловой системе файл string.h и определить его владельца.
15. Сравнить содержимое двух текстовых файлов и найти отличия (есть специальная команда).
16. Пронумеровать строки в текстовом файле, результат записать в новый файл.
17. Вывести на экран список процессов, идентификатор которых \< 1000, запущенных от имени пользователя root.

### Задача №3

1. Написать программу, проверяющую размер файла передаваемого в качестве параметра. Если размер больше значения, заданного вторым параметров, файл копируется в подкаталог bigger, если меньше ‑ файл копируется в подкаталог smaller. Если каталогов bigger и smaller не существует, то создавать их.
2. Сравнивать имя пользователя, переданное в качестве, параметра с именем текущего пользователя. Если имена совпадают выводить подтверждение и проверять на равенство имени текущего пользователя значению root. Если равенство подтвердилось – выводить предупреждающее сообщение. В случае если введённое в качестве параметра имя пользователя не совпадает с именем текущего пользователя – выводить сообщение о несовпадении имен.
3. Проверить каталог, путь к которому задан в качестве параметра на доступность и вывести соответствующее сообщение.
4. Найти в заданном в качестве параметра текстовом файле строку, содержащую текущую дату в формате dd.mm.yyyy, если она не найдена дописать её в файл
 (dd – день месяца, mm – номер месяца в году, yyyy - год).
5. Проверить текущий день недели и для каждого вывести информационное сообщение (рекомендуется использовать оператор выбора case).
6. Проверять заданный в качестве параметра файл на доступность для записи, и если есть возможность дописывать в него сообщение «hh.mm.ss.zzz – recording test» в противном случае выводить сообщение о не возможности выполнить операцию записи (hh – часы, mm – минуты, ss – секунды, zzz - милисекунды).
7. В заданном в качестве параметра каталоге производить поиск файла autorun.inf, если файл найден проверять является ли он обычным файлом, если является – удалять.
8. Для двух заданных файлов вычислять их суммарный объем и, в случае если он не равен, нулю ‑ выводить результат на экран.
9. Если файл, заданный в качестве параметра существует, создать файла с таким же именем, дописав в конец расширение «.temp».
10. Найти файл string.h, в случае успеха скопировать его в заданный в качестве параметра каталог.
11. Сравнить размер двух заданных в качестве параметров файлов, вывести имя того, который больше.
12. С помощью /dev/urandom сгенерировать человекочитаемый пароль.
13. Найти в исходном коде ядра Linux (уже есть в ВМ ubuntu 18.04 x64 v2) все упоминания авторов с почтой из домена google.com.

### Задача №4

1. Для каждого из файлов в текущем каталоге создать копию с именем \<имя файла\>.cpy.
2. Для двух заданных в качестве параметров директорий сравнить размеры всех содержащихся там файлов, создать файл, в котором каждой сравниваемой паре
 будет соответствовать строчка, содержащая имена файлов и результат сравнения.
3. Создать файл, содержащий чётные идентификаторы процессов запущенных текущим пользователем.
4. В текущем каталоге для каждого пользователя из файла passwd создать файл с именем \<имя пользователя\>.path содержащий путь к домашней директории пользователя.
5. В текущей директории создать файлы с именами, представляющими собой числа от 0 до 333.
6. В заданном каталоге произвести сортировку файлов по размеру: файлы с размером меньше 1кБ переместить в директорию sort.1, файлы с размером больше 1кБ и меньше 1MБ переместить в директорию sort.1000, остальные файлы переместить в директорию sort.mega.
7. Вывести на экран таблицу умножения (в виде матрицы).
8. Для всех файлов текущего каталога произвести подсчёт длины его имени, результат записать в файл.
9. Написать программу, получающую в качестве параметров произвольное количество имён файлов. Для каждого имени необходимо произвести проверку на существование файла и вывести соответствующее сообщение.
10. Для каждого файла в текущем каталоге создать файл с именем \<имя исходного файла \>.head, содержащий первые N строк исходного файла (N необходимо задавать в качестве параметра).

### Задача №5

1. Для заданной в качестве параметра директории составить каталог файлов. Для каждого расширения создать файл \<расширение\>.list, содержащий имена всех
 файлов текущего каталога с данным расширением.
2. Для заданного в качестве параметра текстового файла создать файл \<имя файла\>.words.sizes, содержащий размеры (в символах) всех слов исходного
 файла в формате \<размер\> : \<слово\>.
3. Для заданного в качестве параметра текстового файла создать файлы: digits - содержит цифры из исходного файла; alpha - содержит буквенные символы из исходного файла; other - содержит все остальные символы из исходного файла.
4. В заданном каталоге поместить в отдельные подкаталоги файлы с размерами, попадающими в интервалы заданного размера.
5. В заданном каталоге файлы с одинаковыми расширениями поместить в отдельные подкаталоги, для файлов без расширений так же создать отдельный подкаталог.
6. Подсчитать количество слов в текстовом файле, содержащих букву 'q'.
7. Из всех файлов \*.h и \*.cpp удалить строки, начинающиеся с "//".
8. В заданном файле определить повторяющиеся строки, вывести их номера.
9. Для файла с заданным именем определить, является ли он символической ссылкой. Если да, проследить всю цепочку ссылок от этого имени.
10. В заданном текстовом файле поменять местами четные и нечетные строки.
11. В заданном текстовом файле оставить не более 3 слов в каждой строке, остаток перенести в следующую строку.