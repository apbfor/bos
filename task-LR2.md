## Лабораторная работа №2. Применение SSH в локальной сети

### Программное обеспечение
1.	VMware Workstation 10 или новее.
2.	Виртуальная машина с установленной гостевой ОС Ubuntu 16.04.

### Задание
Факт правильного выполнения задания должен быть подтверждён **хорошими** скриншотами. Требуемый по заданию шаблон должен быть крупно виден. Рисунки должны быть подписаны. [Шаблон документа для ЛР](http://gitlabnto/anetto/wiki/wikis/%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2)

**Важно:** недопустимы скриншоты с белым текстом на чёрном фоне. Скриншоты должны быть строго черным шрифтом на белом фоне. Либо измените настройки терминала на виртуальной машине, либо для сделанных скриншотов инвертируйте цвета в paint.

1. Сделать гостевую виртуальную машину доступной в локальной сети. Гостевой машине установить ip по шаблону 192.168.115.X, где X = 30 + num % 24, num - номер слушателя по журналу. X = 54 зарезервирован для преподавателя. При недостатке свободных ip действовать по указанию преподавателя. **Скриншот** вывода ifconfig.
2. Изменить сетевое имя виртуальной машины по шаблону Surname, где Surname - ваша фамилия.
2. Сгенерировать ssh-ключ. Добавить в ~/.ssh/authorized_keys (права на файл должны быть 0600, файл должен принадлежать пользователю an и группе an) строку

    ```bash
    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCqzl0BrU9gpuF8dDi4sJ/reiWJnI3MKcqhbUpCOayIBqMeJr1ro7kskUKtZvzlfMaf5OXgSsiGcipVef4vQyMKZPkJalV+LDhzATW6zaYOP4AANQntR7pbEWoSCQBaObQhcqs4DckUNlAE2DufXKTyXnz2iY1bDyQXIt9v94tJpLWK0AonBZzsFaWg3eLb1cZKgmg68xxsoGULaMQ2rqXN05YXxoDZ03uNFSgiBydkZsQrHkWZmSlzqVBopzxRQ1fzla8RDGEmmiMhu7nzelW+ClhlsWUruUyLTR/Vcpc7W5qlmWv9qTilzLSf+KfO6u8AbBp7v1tsRh4UB/Z+5Wtr an@Lyachovets
    ```

1. В гостевой ОС создать учётную запись пользователя по формату SurnameRandom (Surname - фамилия слушателя, Random - случайное четырёхзначное число), UID, равному 1100 + номер по журналу, GID, равному номеру группы (например, 7333). **Скриншот** /etc/passwd и /etc/shadow, на котором видно созданного пользователя.
1. В файле /home/an/password.txt записать некоторую парольную фразу. Парольная фраза должна начинаться с вашего X из шаблона. **Включить в отчёт** свою парольную фразу. Пример парольной фразы для пользователя с X=22 "22: наш дядя самых честных правил"
1. Настроить беспарольный доступ к gitlabnto для учетной записи user.
1. По ssh подсоединиться к gitlabnto (user : user) и узнать ключевую фразу своей группы в файле /home/user/readme.txt. **Включить в отчёт** ключевую фразу для группы.
1. Настроить беспарольный доступ к виртуальной машине следующего по журналу слушателя, то есть с ip 192.168.115.(X+1). **Скриншот** команды cat ~/.ssh/authorized_keys - должно быть видно an@Фамилия-следующего-слушателя в командной строке и ключ an@Ваша-фамилия в выводе authorized\_keys
1. Обойти по ssh машины в диапазоне 192.168.115.31-54 и собрать парольные фразы.
1. В отчёт включить таблицу вида ip - имя созданного пользователя - парольная фраза. В таблице должны быть ВМ всех слушателей, присутствующих на паре.